---
title: "WSL: WslRegisterDistribution failed 0x8007019e"
errorText: "WSL: WslRegisterDistribution failed 0x8007019e"
tags: ["Windows", "WSL", "Subsystem"]
updatedAt: "2025-11-03T09:11:56.107Z"
lang: "en"
---

## Summary
- Trigger (1 line)  
  Error occurs when registering/starting a WSL distribution due to WSL service/features not enabled, permission issues, file locks, or related blocks (WslRegisterDistribution failed 0x8007019e).
- Impact (1 line)  
  The affected distribution cannot start and the Linux environment becomes unavailable.
- Urgency (High/Medium/Low, 1-line reason)  
  Medium. Work environment is halted, but most cases are recoverable quickly via restart or permission fixes.

## Common causes (priority order)
1. WSL or Virtual Machine Platform disabled so subsystem is not running  
2. Outdated or corrupted WSL kernel (needs update/reinstall)  
3. Permission issues: no access to installation folder or TEMP  
4. File lock: installer or extracted files held by another process  
5. Execution controls such as AppLocker / SRP / SmartScreen blocking the process

## 60-second checks (quick steps)
- Run as administrator → retry
- Check current ACLs:
  ```cmd
  icacls "C:\Path\To\Folder"
  ```
- Check your privileges:
  ```cmd
  whoami /groups & whoami /priv
  ```
- Check Defender history and Controlled Folder Access:
  ```powershell
  Get-MpThreatDetection -ErrorAction SilentlyContinue | Select Timestamp, Action, Resources | Select -First 5
  Get-MpPreference | Select EnableControlledFolderAccess
  ```
- Check TEMP folder permissions:
  ```cmd
  echo %TEMP%
  icacls "%TEMP%"
  ```
- Snapshot GPO influence:
  ```cmd
  gpresult /h "%USERPROFILE%\Desktop\gp.html"
  ```

## 5-minute fix (practical flow)
1) Identify target → assign ownership/permissions (GUI or commands)  
2) Register allowed apps in Controlled Folder Access or EDR, remove MOTW (Zone.Identifier) if present  
   - PowerShell (unblock):
     ```powershell
     Unblock-File -Path "C:\Path\to\installer-or-script.exe"
     ```
   - GUI: check “Unblock” on file Properties  
3) If WSL features are disabled, enable and restart (elevated PowerShell):
   ```powershell
   dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
   dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart
   Restart-Computer
   ```
   - When needed run `wsl --update` and `wsl --set-default-version 2`.  
4) If locked, reboot, use Safe Mode, or safely stop the holding process

## Root fixes (permanent)
- Correct ownership and inheritance locally; avoid broad ownership changes  
- Maintain Defender/EDR allow-lists and exception policies administratively  
- Standardize request workflow under GPO/EDR-managed environments  
- Avoid running from shares or ZIP directly; copy to local (e.g., C:\Temp) before executing

## Detailed steps (Windows 10/11)
1. Use GUI to change owner → enable inheritance → set minimal required permissions.  
2. Command examples (run as administrator)
   ```cmd
   takeown /F "C:\Path\To\Folder" /R /D Y
   icacls "C:\Path\To\Folder" /grant Administrators:F /T
   ```
   Rollback example (restore to SYSTEM):
   ```powershell
   $p = "C:\Path\To\Folder"
   icacls $p /setowner "NT AUTHORITY\SYSTEM" /T
   ```
   Restore excessive permissions / repair inheritance:
   ```cmd
   icacls "C:\Path\To\Folder" /inheritance:e
   icacls "C:\Path\To\Folder" /reset
   ```
3. Defender: check and add allowed apps  
   - Check state:
     ```powershell
     Get-MpPreference | Select EnableControlledFolderAccess, ControlledFolderAccessAllowedApplications
     ```
   - Add allowance:
     ```powershell
     Add-MpPreference -ControlledFolderAccessAllowedApplications "C:\Path\app.exe"
     ```
4. If a file is locked (how to find)  
   - Win + R → resmon → CPU → Associated Handles → search path → stop the process or reboot/safe mode.  
⚠ Note: Temporary disabling is for the task only. Restore settings after completion. Rollback: use the rollback example above or restore security settings to their original values.

## Common pitfalls (do not)
- Changing ownership widely under Windows/Program Files/System32  
- Granting Everyone:Full on shared folders

## Preventive checklist
- Operate as standard user and elevate only when necessary  
- Extract/download installers locally before execution to avoid locks  
- Document and review change procedures

## Related cases
- Steps when Windows Update returns 0x80070005  
- Steps when Office/Outlook activation returns 0x80070005  
- Steps when OneDrive/sync client returns 0x80070005

## References (primary sources)
- https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/icacls
- https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/takeown
- https://learn.microsoft.com/en-us/powershell/module/defender/get-mppreference
- https://learn.microsoft.com/en-us/powershell/module/defender/add-mppreference
- https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/enable-controlled-folders
- https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/gpresult